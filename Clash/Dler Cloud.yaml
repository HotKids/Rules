# HTTP ç«¯å£
port: 7890

# SOCKS5 ç«¯å£
socks-port: 7891

# Linux åŠ macOS çš„ redir ç«¯å£
# redir-port: 7892

allow-lan: false

# ä»…é€‚ç”¨äºè®¾ç½® allow-lan ä¸º true æ—¶
# "*": ç»‘å®šæ‰€æœ‰ IP åœ°å€
# 192.168.122.11: ç»‘å®šå•ä¸ª IPv4 åœ°å€
# "[aaaa::a8aa:ff:fe09:57d8]": ç»‘å®šå•ä¸ª IPv6 åœ°å€
# bind-address: "*"

# Rule / Global / Direct (é»˜è®¤ä¸º Rule æ¨¡å¼)
mode: Rule

# è®¾ç½®è¾“å‡ºæ—¥å¿—çš„ç­‰çº§ (é»˜è®¤ä¸º info)
# info / warning / error / debug / silent
log-level: info

# RESTful API for clash
external-controller: 127.0.0.1:9090

# you can put the static web resource (such as clash-dashboard) to a directory, and clash would serve in `${API}/ui`
# input is a relative path to the configuration directory or an absolute path
# external-ui: folder

# Secret for RESTful API (Optional)
# secret: ""

# å®éªŒæ€§åŠŸèƒ½
experimental:
  ignore-resolve-fail: true # å¿½ç•¥ DNS è§£æå¤±è´¥ï¼Œé»˜è®¤å€¼ä¸ºtrue
  # interface-name: en0 # å‡ºç«™æ¥å£åç§°

# æœ¬åœ° SOCKS5/HTTP(S) æœåŠ¡å™¨è®¤è¯
# authentication:
#  - "user1:pass1"
#  - "user2:pass2"

# # å®éªŒæ€§ hosts, æ”¯æŒé€šé…ç¬¦ï¼ˆå¦‚ *.clash.dev ç”šè‡³ *.foo.*.examplex.com ï¼‰
# # é™æ€åŸŸçš„ä¼˜å…ˆçº§é«˜äºé€šé…ç¬¦åŸŸï¼ˆfoo.example.com > *.example.comï¼‰
hosts:
  'mtalk.google.com': 108.177.125.188
#   '*.clash.dev': 127.0.0.1
#   'alpha.clash.dev': '::1'

dns:
  enable: true # set true to enable dns (default is false)
  ipv6: false # default is false
  listen: 0.0.0.0:53
  # default-nameserver: # resolve dns nameserver host, should fill pure IP
  #   - 114.114.114.114
  #   - 8.8.8.8
  enhanced-mode: redir-host # or fake-ip
  # fake-ip-range: 198.18.0.1/16 # if you don't know what it is, don't change it
  fake-ip-filter: # fake ip white domain list
    - '*.lan'
    - localhost.ptlogin2.qq.com
  nameserver:
    - 119.29.29.29
    - 223.5.5.5
  fallback: # concurrent request with nameserver, fallback used when GEOIP country isn't CN
    - tcp://1.1.1.1
  fallback-filter:
    geoip: true # default
    ipcidr: # ips in these subnets will be considered polluted
      - 240.0.0.0/4

proxies:


# æœåŠ¡å™¨èŠ‚ç‚¹è®¢é˜…
proxy-providers:
  HK
    type: http
    path: ./HK.yaml
    url: https://dler.cloud/subscribe/QWERTYUIOP?protocols=ss&list=clash&area=HK
    interval: 3600
    health-check: 
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 600
  MO
    type: http
    path: ./MO.yaml
    url: https://dler.cloud/subscribe/QWERTYUIOP?protocols=ss&list=clash&area=MO
    interval: 3600
    health-check: 
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 600
  TW
    type: http
    path: ./TW.yaml
    url: https://dler.cloud/subscribe/QWERTYUIOP?protocols=ss&list=clash&area=TW
    interval: 3600
    health-check: 
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 600
  JP
    type: http
    path: ./JP.yaml
    url: https://dler.cloud/subscribe/QWERTYUIOP?protocols=ss&list=clash&area=JP
    interval: 3600
    health-check: 
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 600
  KR
    type: http
    path: ./KR.yaml
    url: https://dler.cloud/subscribe/QWERTYUIOP?protocols=ss&list=clash&area=KR
    interval: 3600
    health-check: 
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 600
  SG
    type: http
    path: ./SG.yaml
    url: https://dler.cloud/subscribe/QWERTYUIOP?protocols=ss&list=clash&area=SG
    interval: 3600
    health-check: 
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 600
  PH
    type: http
    path: ./PH.yaml
    url: https://dler.cloud/subscribe/QWERTYUIOP?protocols=ss&list=clash&area=PH
    interval: 3600
    health-check: 
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 600
  DE
    type: http
    path: ./DE.yaml
    url: https://dler.cloud/subscribe/QWERTYUIOP?protocols=ss&list=clash&area=DE
    interval: 3600
    health-check: 
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 600
  UK
    type: http
    path: ./UK.yaml
    url: https://dler.cloud/subscribe/QWERTYUIOP?protocols=ss&list=clash&area=UK
    interval: 3600
    health-check: 
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 600
  US
    type: http
    path: ./US.yaml
    url: https://dler.cloud/subscribe/QWERTYUIOP?protocols=ss&list=clash&area=US
    interval: 3600
    health-check: 
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 600
  UN
    type: http
    path: ./UN.yaml
    url: https://dler.cloud/subscribe/QWERTYUIOP?protocols=ss&list=clash
    interval: 3600
    health-check: 
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 600

proxy-groups:
  # ä»£ç†èŠ‚ç‚¹é€‰é¡¹
  - name: â€œğŸ”° Proxyâ€
    type: select
    proxies:
      - ğŸ‡­ğŸ‡° Hong Kong
      - ğŸ‡²ğŸ‡´ Macao
      - ğŸ‡¹ğŸ‡¼ Taiwan
      - ğŸ‡¯ğŸ‡µ Japan
      - ğŸ‡°ğŸ‡· Korea
      - ğŸ‡¸ğŸ‡¬ Singapore
      - ğŸ‡µğŸ‡­ Philippines
      - ğŸ‡©ğŸ‡ª Germany
      - ğŸ‡¬ğŸ‡§ England
      - ğŸ‡ºğŸ‡¸ America
      - ğŸ‡ºğŸ‡³ Server
      - ğŸ”˜ DIRECT

  # æµ·å¤–æµåª’ä½“æœåŠ¡
  - name: â€œğŸ¬ Streaming"
    type: select
    proxies:
      - ğŸ‡­ğŸ‡° Hong Kong
      - ğŸ‡²ğŸ‡´ Macao
      - ğŸ‡¹ğŸ‡¼ Taiwan
      - ğŸ‡¯ğŸ‡µ Japan
      - ğŸ‡°ğŸ‡· Korea
      - ğŸ‡¸ğŸ‡¬ Singapore
      - ğŸ‡µğŸ‡­ Philippines
      - ğŸ‡©ğŸ‡ª Germany
      - ğŸ‡¬ğŸ‡§ England
      - ğŸ‡ºğŸ‡¸ America
      - ğŸ‡ºğŸ‡³ Server

  # å¤§é™†æµåª’ä½“æœåŠ¡ï¼ˆé¢å‘æ¸¯å°ç‰ˆæœ¬ï¼‰
  - name: "ğŸ“º CNTV"
    type: select
    proxies:
      - ğŸ”˜ DIRECT
      - ğŸ‡¹ğŸ‡¼ Taiwan

  # ç‰¹æ®Šä»£ç†æœåŠ¡
  - name: "ğŸ“¬ Telegram"
    type: select
    proxies:
      - ğŸ‡¸ğŸ‡¬ Singapore
      - ğŸ”° Proxy
      - ğŸ”˜ DIRECT

  - name: "ğŸ’³ PayPal"
    type: select
    proxies:
      - ğŸ”˜ DIRECT
      - ğŸ”° Proxy
      - ğŸ‡ºğŸ‡¸ America

  # å»å¹¿å‘Šä»¥åŠéšç§è¿½è¸ªä¿æŠ¤ã€åè¿è¥å•†åŠ«æŒå¼€å…³
  - name: "ğŸš§ AdBlock"
    type: select
    proxies:
      - REJECT
      - DIRECT

  # ç›´è¿
  - name: "ğŸ”˜ DIRECT"
    type: select
    proxies:
      - DIRECT

  # HK
  - name: "ğŸ‡­ğŸ‡° Hong Kong"
    type: url-test
    use:
      - HK
    url: 'http://www.gstatic.com/generate_204'
    interval: 300

  # MO
  - name: "ğŸ‡¹ğŸ‡¼ Taiwan"
    type: url-test
    use:
      - TW
    url: 'http://www.gstatic.com/generate_204'
    interval: 300
      
  # TW
  - name: "ğŸ‡¹ğŸ‡¼ Taiwan"
    type: url-test
    use:
      - TW
    url: 'http://www.gstatic.com/generate_204'
    interval: 300

  # JP
  - name: "ğŸ‡¯ğŸ‡µ Japan"
    type: url-test
    use:
      - JP
    url: 'http://www.gstatic.com/generate_204'
    interval: 300

  # KR
  - name: "ğŸ‡°ğŸ‡· Korea"
    type: url-test
    use:
      - KR
    url: 'http://www.gstatic.com/generate_204'
    interval: 300

  # SG
  - name: "ğŸ‡¸ğŸ‡¬ Singapore"
    type: url-test
    use:
      - SG
    url: 'http://www.gstatic.com/generate_204'
    interval: 300
   
  # PH
  - name: "ğŸ‡µğŸ‡­ Philippines"
    type: url-test
    use:
      - PH
    url: 'http://www.gstatic.com/generate_204'
    interval: 300
 
   # DE
  - name: "ğŸ‡©ğŸ‡ª Germany"
    type: url-test
    use:
      - DE
    url: 'http://www.gstatic.com/generate_204'
    interval: 300
      
  # UK
  - name: "ğŸ‡¬ğŸ‡§ England"
    type: url-test
    use:
      - PH
    url: 'http://www.gstatic.com/generate_204'
    interval: 300 
    
  # US
  - name: "ğŸ‡ºğŸ‡¸ America"
    type: url-test
    use:
      - US
    url: 'http://www.gstatic.com/generate_204'
    interval: 300
      
  # UN
  - name: "ğŸ‡ºğŸ‡³ Server"
    type: select
    use:
      - UN

# å…³äº Rule Provider è¯·æŸ¥é˜…ï¼šhttps://lancellc.gitbook.io/clash/clash-config-file/rule-provider

rule-providers:
# name: # Provider åç§°
#   type: http # http æˆ– file
#   behavior: classical # æˆ– ipcidrã€domain
#   path: # æ–‡ä»¶è·¯å¾„
#   url: # åªæœ‰å½“ç±»å‹ä¸º HTTP æ—¶æ‰å¯ç”¨ï¼Œæ‚¨ä¸éœ€è¦åœ¨æœ¬åœ°ç©ºé—´ä¸­åˆ›å»ºæ–°æ–‡ä»¶ã€‚
#   interval: # è‡ªåŠ¨æ›´æ–°é—´éš”ï¼Œä»…åœ¨ç±»å‹ä¸º HTTP æ—¶å¯ç”¨

  Unbreak:
    type: http
    behavior: classical
    path: ./RuleSet/Unbreak.yaml
    url: https://raw.githubusercontent.com/DivineEngine/Profiles/master/Clash/RuleSet/Unbreak.yaml
    interval: 86400

  Advertising:
    type: http
    behavior: classical
    path: ./RuleSet/Guard/Advertising.yaml
    url: https://raw.githubusercontent.com/DivineEngine/Profiles/master/Clash/RuleSet/Guard/Advertising.yaml
    interval: 86400

  Hijacking:
    type: http
    behavior: classical
    path: ./RuleSet/Guard/Hijacking.yaml
    url: https://raw.githubusercontent.com/DivineEngine/Profiles/master/Clash/RuleSet/Guard/Hijacking.yaml
    interval: 86400

  Privacy:
    type: http
    behavior: classical
    path: ./RuleSet/Guard/Privacy.yaml
    url: https://raw.githubusercontent.com/DivineEngine/Profiles/master/Clash/RuleSet/Guard/Privacy.yaml
    interval: 86400

  Bilibili:
    type: http
    behavior: classical
    path: ./RuleSet/Bilibili.yaml
    url: https://raw.githubusercontent.com/HotKids/Rules/master/Clash/RuleSet/Bilibili.yaml
    interval: 86400

  IQIYI:
  Bilibili:
    type: http
    behavior: classical
    path: ./RuleSet/IQIYI.yaml
    url: https://raw.githubusercontent.com/HotKids/Rules/master/Clash/RuleSet/IQIYI.yaml
    interval: 86400

  Bahamut:
    type: http
    behavior: classical
    path: ./RuleSet/Bahamut.yaml
    url: https://raw.githubusercontent.com/HotKids/Rules/master/Clash/RuleSet/Bahamut.yaml
    interval: 86400

  BBC:
    type: http
    behavior: classical
    path: ./RuleSet/BBC.yaml
    url: https://raw.githubusercontent.com/HotKids/Rules/master/Clash/RuleSet/BBC.yaml
    interval: 86400

  Disney:
    type: http
    behavior: classical
    path: ./RuleSet/Disney.yaml
    url: https://raw.githubusercontent.com/HotKids/Rules/master/Clash/RuleSet/Disney.yaml
    interval: 86400

  friDay:
    type: http
    behavior: classical
    path: ./RuleSet/friDay.yaml
    url: https://raw.githubusercontent.com/HotKids/Rules/master/Clash/RuleSet/friDay.yaml
    interval: 86400

  HBO:
    type: http
    behavior: classical
    path: ./RuleSet/HBO.yaml
    url: https://raw.githubusercontent.com/HotKids/Rules/master/Clash/RuleSet/HBO.yaml
    interval: 86400

  HBO_Asia:
    type: http
    behavior: classical
    path: ./RuleSet/HBO_Asia.yaml
    url: https://raw.githubusercontent.com/HotKids/Rules/master/Clash/RuleSet/HBO_Asia.yaml
    interval: 86400

  Hulu:
    type: http
    behavior: classical
    path: ./RuleSet/Hulu.yaml
    url: https://raw.githubusercontent.com/HotKids/Rules/master/Clash/RuleSet/Hulu.yaml
    interval: 86400

  Hulu_JP:
    type: http
    behavior: classical
    path: ./RuleSet/Hulu_JP.yaml
    url: https://raw.githubusercontent.com/HotKids/Rules/master/Clash/RuleSet/Hulu_JP.yaml
    interval: 86400

  KKBOX&KKTV:
    type: http
    behavior: classical
    path: ./RuleSet/KKBOX&KKTV.yaml
    url: https://raw.githubusercontent.com/HotKids/Rules/master/Clash/RuleSet/KKBOX&KKTV.yaml
    interval: 86400

  LINETV:
    type: http
    behavior: classical
    path: ./RuleSet/LINETV.yaml
    url: https://raw.githubusercontent.com/HotKids/Rules/master/Clash/RuleSet/LINETV.yaml
    interval: 86400

  Spotify:
    type: http
    behavior: classical
    path: ./RuleSet/Spotify.yaml
    url: https://raw.githubusercontent.com/HotKids/Rules/master/Clash/RuleSet/Spotify.yaml
    interval: 86400

  YouTube:
    type: http
    behavior: classical
    path: ./RuleSet/YouTube.yaml
    url: https://raw.githubusercontent.com/HotKids/Rules/master/Clash/RuleSet/YouTube.yaml
    interval: 86400

  WeTV:
    type: http
    behavior: classical
    path: ./RuleSet/WeTV.yaml
    url: https://raw.githubusercontent.com/HotKids/Rules/master/Clash/RuleSet/WeTV.yaml
    interval: 86400

  TV:
    type: http
    behavior: classical
    path: ./RuleSet/Extra/Apple/TV.yaml
    url: https://raw.githubusercontent.com/DivineEngine/Profiles/master/Clash/RuleSet/Extra/Apple/TV.yaml
    interval: 86400

  Telegram:
    type: http
    behavior: classical
    path: ./RuleSet/Extra/Telegram/Telegram.yaml
    url: https://raw.githubusercontent.com/DivineEngine/Profiles/master/Clash/RuleSet/Extra/Telegram/Telegram.yaml
    interval: 86400

  PayPal:
    type: http
    behavior: classical
    path: ./RuleSet/Extra/PayPal.yaml
    url: https://raw.githubusercontent.com/DivineEngine/Profiles/master/Clash/RuleSet/Extra/PayPal.yaml
    interval: 86400

  Global:
    type: http
    behavior: classical
    path: ./RuleSet/Global.yaml
    url: https://raw.githubusercontent.com/DivineEngine/Profiles/master/Clash/RuleSet/Global.yaml
    interval: 86400

  China:
    type: http
    behavior: classical
    path: ./RuleSet/China.yaml
    url: https://raw.githubusercontent.com/DivineEngine/Profiles/master/Clash/RuleSet/China.yaml
    interval: 86400

  IP-Blackhole:
    type: http
    behavior: classical
    path: ./RuleSet/Extra/IP-Blackhole.yaml
    url: https://raw.githubusercontent.com/DivineEngine/Profiles/master/Clash/RuleSet/Extra/IP-Blackhole.yaml
    interval: 86400

  ChinaIP:
    type: http
    behavior: classical
    path: ./RuleSet/Extra/ChinaIP.yaml
    url: https://raw.githubusercontent.com/DivineEngine/Profiles/master/Clash/RuleSet/Extra/ChinaIP.yaml
    interval: 86400

# è§„åˆ™
rules:
  # Unbreak
  - RULE-SET,Unbreak,ğŸ”˜ DIRECT

  # AdBlock
  - RULE-SET,Advertising,ğŸš§ AdBlock
  - RULE-SET,Hijacking,ğŸš§ AdBlock
  - RULE-SET,Privacy,ğŸš§ AdBlock

  # Global Area Network

  # Streaming
  - RULE-SET,Bahamut,ğŸ‡¹ğŸ‡¼ Taiwan
  - RULE-SET,BBC,ğŸ‡¬ğŸ‡§ England
  - RULE-SET,Disney,ğŸ‡ºğŸ‡¸ America
  - RULE-SET,friDay,ğŸ‡¹ğŸ‡¼ Taiwan
  - RULE-SET,HBO,ğŸ‡ºğŸ‡¸ America
  - RULE-SET,HBO_Asia,ğŸ‡µğŸ‡­ Philippines
  - RULE-SET,Hulu,ğŸ‡ºğŸ‡¸ America
  - RULE-SET,Hulu_JP,ğŸ‡¯ğŸ‡µ Japan
  - RULE-SET,KKBOX&KKTV,ğŸ‡¹ğŸ‡¼ Taiwan
  - RULE-SET,LINETV,ğŸ‡¹ğŸ‡¼ Taiwan
  - RULE-SET,Spotify,ğŸ”° Proxy
  - RULE-SET,YouTube,ğŸ”° Proxy
  - RULE-SET,WeTV,ğŸ‡¹ğŸ‡¼ Taiwan
  - RULE-SET,Streaming,ğŸ¬ Streaming

  # CNTV
  - RULE-SET,Bilibili,ğŸ“º CNTV
  - RULE-SET,IQIYI,ğŸ“º CNTV

  # Apple TV
  - RULE-SET,TV,ğŸ‡ºğŸ‡¸ America

  # Telegram
  - RULE-SET,Telegram,ğŸ“¬ Telegram

  # PayPal
  - RULE-SET,PayPal,ğŸ’³ PayPal

  # (DNS Cache Pollution) / (IP Blackhole) / (Region-Restricted Access Denied) / (Network Jitter)
  - RULE-SET,Global,ğŸ”° Proxy

  # China Area Network
  - RULE-SET,China,ğŸ”˜ DIRECT

  # Local Area Network
  - IP-CIDR,192.168.0.0/16,ğŸ”˜ DIRECT
  - IP-CIDR,10.0.0.0/8,ğŸ”˜ DIRECT
  - IP-CIDR,172.16.0.0/12,ğŸ”˜ DIRECT
  - IP-CIDR,127.0.0.0/8,ğŸ”˜ DIRECT
  - IP-CIDR,100.64.0.0/10,ğŸ”˜ DIRECT
  - IP-CIDR,224.0.0.0/4,ğŸ”˜ DIRECT

  # IP Blackhole
  - RULE-SET,IP-Blackhole,ğŸ”° Proxy

  # Tencent
  - IP-CIDR,119.28.28.28/32,ğŸ”˜ DIRECT
  - IP-CIDR,182.254.116.0/24,ğŸ”˜ DIRECT
  # ä½¿ç”¨æ¥è‡ª ipipdotnet çš„ ChinaIP ä»¥è§£å†³æ•°æ®ä¸å‡†ç¡®çš„é—®é¢˜ï¼Œä½¿ç”¨ ChinaIP.yaml æ—¶ç¦ç”¨ã€ŒGEOIP,CNã€è§„åˆ™
  # - RULE-SET,ChinaIP,ğŸ”˜ DIRECT
  # GeoIP China
  - GEOIP,CN,ğŸ”˜ DIRECT

  - MATCH,ğŸ”° Proxy
