# HTTP ç«¯å£
port: 7890

# SOCKS5 ç«¯å£
socks-port: 7891

# Linux åŠ macOS çš„ redir ç«¯å£
# redir-port: 7892

allow-lan: true

# ä»…é€‚ç”¨äºè®¾ç½® allow-lan ä¸º true æ—¶
# "*": ç»‘å®šæ‰€æœ‰ IP åœ°å€
# 192.168.122.11: ç»‘å®šå•ä¸ª IPv4 åœ°å€
# "[aaaa::a8aa:ff:fe09:57d8]": ç»‘å®šå•ä¸ª IPv6 åœ°å€
# bind-address: "*"

# Rule / Global / Direct (é»˜è®¤ä¸º Rule æ¨¡å¼)
mode: Rule

# è®¾ç½®è¾“å‡ºæ—¥å¿—çš„ç­‰çº§ (é»˜è®¤ä¸º info)
# info / warning / error / debug / silent
log-level: info

# RESTful API for clash
external-controller: 127.0.0.1:9090

# you can put the static web resource (such as clash-dashboard) to a directory, and clash would serve in `${API}/ui`
# input is a relative path to the configuration directory or an absolute path
# external-ui: folder

# Secret for RESTful API (Optional)
# secret: ""

# å®éªŒæ€§åŠŸèƒ½
experimental:
  ignore-resolve-fail: true # å¿½ç•¥ DNS è§£æå¤±è´¥ï¼Œé»˜è®¤å€¼ä¸ºtrue
  # interface-name: en0 # å‡ºç«™æ¥å£åç§°

# æœ¬åœ° SOCKS5/HTTP(S) æœåŠ¡å™¨è®¤è¯
# authentication:
#  - "user1:pass1"
#  - "user2:pass2"

# # å®éªŒæ€§ hosts, æ”¯æŒé€šé…ç¬¦ï¼ˆå¦‚ *.clash.dev ç”šè‡³ *.foo.*.examplex.com ï¼‰
# # é™æ€åŸŸçš„ä¼˜å…ˆçº§é«˜äºé€šé…ç¬¦åŸŸï¼ˆfoo.example.com > *.example.comï¼‰
hosts:
  'mtalk.google.com': 108.177.125.188
#   '*.clash.dev': 127.0.0.1
#   'alpha.clash.dev': '::1'

dns:
  enable: true # set true to enable dns (default is false)
  ipv6: false # default is false
  listen: 0.0.0.0:53
  # default-nameserver: # resolve dns nameserver host, should fill pure IP
  #   - 119.29.29.29
  #   - 119.28.28.28
  enhanced-mode: fake-ip # or redir-host
  # fake-ip-range: 198.18.0.1/16 # if you don't know what it is, don't change it
  fake-ip-filter: # fake ip white domain list
    - '*.lan'
    - localhost.ptlogin2.qq.com
  nameserver:
    - 'https://doh.rixcloud.dev/dns-query'
    - 'https://47.108.56.233/dns-query'
    - 'https://118.31.13.131/dns-query'
    - 'https://120.25.25.166/dns-query'
    - 'https://139.224.112.177/dns-query'
    - 'https://59.110.53.209/dns-query'
  # fallback: # concurrent request with nameserver, fallback used when GEOIP country isn't CN
    # - tcp://1.1.1.1
  fallback-filter:
    geoip: true # default
    ipcidr: # ips in these subnets will be considered polluted
      - 240.0.0.0/4

proxies:

# æœåŠ¡å™¨èŠ‚ç‚¹è®¢é˜…
proxy-providers:
  HK:
    type: http
    path: ./Provider/Proxy/Dler/HK.yaml
    url: https://dler.cloud/subscribe/QWERTYUIOP?protocols=ss&list=clash&area=hk
    interval: 3600
    health-check: 
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 600
  TW:
    type: http
    path: ./Provider/Proxy/Dler/TW.yaml
    url: https://dove.589669.xyz/all2clash?sub=https%3A%2F%2Fdler.cloud%2Fsubscribe%2FQWERTYUIOP%3Fprotocols%3Dss%26list%3Dsurge&udp=1&tfo=1&emoji=1&filter=.*%E5%8F%B0
    interval: 3600
    health-check: 
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 600
  JP:
    type: http
    path: ./Provider/Proxy/Dler/JP.yaml
    url: https://dler.cloud/subscribe/QWERTYUIOP?protocols=ss&list=clash&area=jp
    interval: 3600
    health-check: 
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 600
  KR:
    type: http
    path: ./Provider/Proxy/Dler/KR.yaml
    url: https://dler.cloud/subscribe/QWERTYUIOP?protocols=ss&list=clash&area=kr
    interval: 3600
    health-check: 
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 600
  SG:
    type: http
    path: ./Provider/Proxy/Dler/SG.yaml
    url: https://dler.cloud/subscribe/QWERTYUIOP?protocols=ss&list=clash&area=sg
    interval: 3600
    health-check: 
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 600
  PH:
    type: http
    path: ./Provider/Proxy/Dler/PH.yaml
    url: https://dler.cloud/subscribe/QWERTYUIOP?protocols=ss&list=clash&area=ph
    interval: 3600
    health-check: 
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 600
  DE:
    type: http
    path: ./Provider/Proxy/Dler/DE.yaml
    url: https://dler.cloud/subscribe/QWERTYUIOP?protocols=ss&list=clash&area=de
    interval: 3600
    health-check: 
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 600
  UK:
    type: http
    path: ./Provider/Proxy/Dler/UK.yaml
    url: https://dler.cloud/subscribe/QWERTYUIOP?protocols=ss&list=clash&area=uk
    interval: 3600
    health-check: 
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 600
  US:
    type: http
    path: ./Provider/Proxy/Dler/US.yaml
    url: https://dler.cloud/subscribe/QWERTYUIOP?protocols=ss&list=clash&area=us
    interval: 3600
    health-check: 
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 600
  UN:
    type: http
    path: ./Provider/Proxy/Dler/UN.yaml
    url: https://dove.589669.xyz/all2clash?sub=https%3A%2F%2Fdler.cloud%2Fsubscribe%2FQWERTYUIOP%3Fprotocols%3Dss%26list%3Dsurge&udp=1&tfo=1&emoji=1
    interval: 3600
    health-check: 
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 600

proxy-groups:
  # ä»£ç†èŠ‚ç‚¹é€‰é¡¹
  - name: "ğŸ”° Proxy"
    type: select
    proxies:
      - ğŸ‡­ğŸ‡° Hong Kong
      - ğŸ‡¹ğŸ‡¼ Taiwan
      - ğŸ‡¯ğŸ‡µ Japan
      - ğŸ‡°ğŸ‡· Korea
      - ğŸ‡¸ğŸ‡¬ Singapore
      - ğŸ‡µğŸ‡­ Philippines
      - ğŸ‡©ğŸ‡ª Germany
      - ğŸ‡¬ğŸ‡§ England
      - ğŸ‡ºğŸ‡¸ America
      - ğŸ‡ºğŸ‡³ Server
      - ğŸ”˜ DIRECT

  # æµ·å¤–æµåª’ä½“æœåŠ¡
  - name: "ğŸ¬ Streaming"
    type: select
    proxies:
      - ğŸ‡­ğŸ‡° Hong Kong
      - ğŸ‡¹ğŸ‡¼ Taiwan
      - ğŸ‡¯ğŸ‡µ Japan
      - ğŸ‡°ğŸ‡· Korea
      - ğŸ‡¸ğŸ‡¬ Singapore
      - ğŸ‡µğŸ‡­ Philippines
      - ğŸ‡©ğŸ‡ª Germany
      - ğŸ‡¬ğŸ‡§ England
      - ğŸ‡ºğŸ‡¸ America
      - ğŸ‡ºğŸ‡³ Server

  # å¤§é™†æµåª’ä½“æœåŠ¡ï¼ˆé¢å‘æ¸¯å°ç‰ˆæœ¬ï¼‰
  - name: "ğŸ“º CNTV"
    type: select
    proxies:
      - ğŸ”˜ DIRECT
      - ğŸ‡¹ğŸ‡¼ Taiwan

  # ç‰¹æ®Šä»£ç†æœåŠ¡
  - name: "ğŸ“¬ Telegram"
    type: select
    proxies:
      - ğŸ‡¸ğŸ‡¬ Singapore
      - ğŸ”° Proxy
      - ğŸ”˜ DIRECT

  - name: "ğŸ’³ PayPal"
    type: select
    proxies:
      - ğŸ”˜ DIRECT
      - ğŸ”° Proxy
      - ğŸ‡ºğŸ‡¸ America

  # å»å¹¿å‘Šä»¥åŠéšç§è¿½è¸ªä¿æŠ¤ã€åè¿è¥å•†åŠ«æŒå¼€å…³
  - name: "ğŸš§ AdGuard"
    type: select
    proxies:
      - REJECT
      - DIRECT

  # å›½å†…æœåŠ¡
  - name: "ğŸš“ Inbound"
    type: select
    proxies:
      - ğŸ”˜ DIRECT
      - ğŸ”° Proxy
      
  # Final
  - name: "ğŸš Outbound"
    type: select
    proxies:
      - ğŸ”° Proxy
      - ğŸ”˜ DIRECT
   
  # UN
  - name: "ğŸ‡ºğŸ‡³ Server"
    type: select
    use:
      - UN

  # HK
  - name: "ğŸ‡­ğŸ‡° Hong Kong"
    type: url-test
    use:
      - HK
    url: 'http://www.gstatic.com/generate_204'
    interval: 300
      
  # TW
  - name: "ğŸ‡¹ğŸ‡¼ Taiwan"
    type: url-test
    use:
      - TW
    url: 'http://www.gstatic.com/generate_204'
    interval: 300

  # JP
  - name: "ğŸ‡¯ğŸ‡µ Japan"
    type: url-test
    use:
      - JP
    url: 'http://www.gstatic.com/generate_204'
    interval: 300

  # KR
  - name: "ğŸ‡°ğŸ‡· Korea"
    type: url-test
    use:
      - KR
    url: 'http://www.gstatic.com/generate_204'
    interval: 300

  # SG
  - name: "ğŸ‡¸ğŸ‡¬ Singapore"
    type: url-test
    use:
      - SG
    url: 'http://www.gstatic.com/generate_204'
    interval: 300
   
  # PH
  - name: "ğŸ‡µğŸ‡­ Philippines"
    type: url-test
    use:
      - PH
    url: 'http://www.gstatic.com/generate_204'
    interval: 300
 
   # DE
  - name: "ğŸ‡©ğŸ‡ª Germany"
    type: url-test
    use:
      - DE
    url: 'http://www.gstatic.com/generate_204'
    interval: 300
      
  # UK
  - name: "ğŸ‡¬ğŸ‡§ England"
    type: url-test
    use:
      - UK
    url: 'http://www.gstatic.com/generate_204'
    interval: 300 
    
  # US
  - name: "ğŸ‡ºğŸ‡¸ America"
    type: url-test
    use:
      - US
    url: 'http://www.gstatic.com/generate_204'
    interval: 300
       
  # DIRECT
  - name: "ğŸ”˜ DIRECT"
    type: select
    proxies:
      - DIRECT

# å…³äº Rule Provider è¯·æŸ¥é˜…ï¼šhttps://lancellc.gitbook.io/clash/clash-config-file/rule-provider

rule-providers:
# name: # Provider åç§°
#   type: http # http æˆ– file
#   behavior: classical # æˆ– ipcidrã€domain
#   path: # æ–‡ä»¶è·¯å¾„
#   url: # åªæœ‰å½“ç±»å‹ä¸º HTTP æ—¶æ‰å¯ç”¨ï¼Œæ‚¨ä¸éœ€è¦åœ¨æœ¬åœ°ç©ºé—´ä¸­åˆ›å»ºæ–°æ–‡ä»¶ã€‚
#   interval: # è‡ªåŠ¨æ›´æ–°é—´éš”ï¼Œä»…åœ¨ç±»å‹ä¸º HTTP æ—¶å¯ç”¨

  Unbreak:
    type: http
    behavior: classical
    path: ./Provider/RuleSet/Unbreak.yaml
    url: https://raw.githubusercontent.com/DivineEngine/Profiles/master/Clash/RuleSet/Unbreak.yaml
    interval: 86400

  Advertising:
    type: http
    behavior: classical
    path: ./Provider/RuleSet/Guard/Advertising.yaml
    url: https://raw.githubusercontent.com/DivineEngine/Profiles/master/Clash/RuleSet/Guard/Advertising.yaml
    interval: 86400

  Hijacking:
    type: http
    behavior: classical
    path: ./Provider/RuleSet/Guard/Hijacking.yaml
    url: https://raw.githubusercontent.com/DivineEngine/Profiles/master/Clash/RuleSet/Guard/Hijacking.yaml
    interval: 86400

  Privacy:
    type: http
    behavior: classical
    path: ./Provider/RuleSet/Guard/Privacy.yaml
    url: https://raw.githubusercontent.com/DivineEngine/Profiles/master/Clash/RuleSet/Guard/Privacy.yaml
    interval: 86400

  Bilibili:
    type: http
    behavior: classical
    path: ./Provider/RuleSet/Streaming/Bilibili.yaml
    url: https://raw.githubusercontent.com/HotKids/Rules/master/Clash/RuleSet/Bilibili.yaml
    interval: 86400

  IQIYI:
    type: http
    behavior: classical
    path: ./Provider/RuleSet/Streaming/IQIYI.yaml
    url: https://raw.githubusercontent.com/HotKids/Rules/master/Clash/RuleSet/IQIYI.yaml
    interval: 86400

  Bahamut:
    type: http
    behavior: classical
    path: ./Provider/RuleSet/Streaming/Bahamut.yaml
    url: https://raw.githubusercontent.com/HotKids/Rules/master/Clash/RuleSet/Bahamut.yaml
    interval: 86400

  BBC:
    type: http
    behavior: classical
    path: ./Provider/RuleSet/Streaming/BBC.yaml
    url: https://raw.githubusercontent.com/HotKids/Rules/master/Clash/RuleSet/BBC.yaml
    interval: 86400

  Disney+:
    type: http
    behavior: classical
    path: ./Provider/RuleSet/Streaming/Disney+.yaml
    url: https://raw.githubusercontent.com/HotKids/Rules/master/Clash/RuleSet/Disney.yaml
    interval: 86400

  FoD:
    type: http
    behavior: classical
    path: ./Provider/RuleSet/Streaming/FoD.yaml
    url: https://raw.githubusercontent.com/HotKids/Rules/master/Clash/RuleSet/FoD.yaml
    interval: 86400
    
  friDay:
    type: http
    behavior: classical
    path: ./Provider/RuleSet/Streaming/friDay.yaml
    url: https://raw.githubusercontent.com/HotKids/Rules/master/Clash/RuleSet/friDay.yaml
    interval: 86400

  HBO:
    type: http
    behavior: classical
    path: ./Provider/RuleSet/Streaming/HBO.yaml
    url: https://raw.githubusercontent.com/HotKids/Rules/master/Clash/RuleSet/HBO.yaml
    interval: 86400

  # HBO Asia:
    # type: http
    # behavior: classical
    # path: ./Provider/RuleSet/Streaming/HBO_Asia.yaml
    # url: https://raw.githubusercontent.com/HotKids/Rules/master/Clash/RuleSet/HBO_Asia.yaml
    # interval: 86400

  Hulu:
    type: http
    behavior: classical
    path: ./Provider/RuleSet/Streaming/Hulu.yaml
    url: https://raw.githubusercontent.com/HotKids/Rules/master/Clash/RuleSet/Hulu.yaml
    interval: 86400

  Hulu JP:
    type: http
    behavior: classical
    path: ./Provider/RuleSet/Streaming/Hulu_JP.yaml
    url: https://raw.githubusercontent.com/HotKids/Rules/master/Clash/RuleSet/Hulu_JP.yaml
    interval: 86400

  KKBOX&KKTV:
    type: http
    behavior: classical
    path: ./Provider/RuleSet/Streaming/KKBOX&KKTV.yaml
    url: https://raw.githubusercontent.com/HotKids/Rules/master/Clash/RuleSet/KKBOX&KKTV.yaml
    interval: 86400

  LINE TV:
    type: http
    behavior: classical
    path: ./Provider/RuleSet/Streaming/LINETV.yaml
    url: https://raw.githubusercontent.com/HotKids/Rules/master/Clash/RuleSet/LINETV.yaml
    interval: 86400
  
  Paravi:
    type: http
    behavior: classical
    path: ./Provider/RuleSet/Streaming/Paravi.yaml
    url: https://raw.githubusercontent.com/HotKids/Rules/master/Clash/RuleSet/Paravi.yaml
    interval: 86400  
    
  Peacock:
    type: http
    behavior: classical
    path: ./Provider/RuleSet/Streaming/Peacock.yaml
    url: https://raw.githubusercontent.com/HotKids/Rules/master/Clash/RuleSet/Peacock.yaml
    interval: 86400

  Spotify:
    type: http
    behavior: classical
    path: ./Provider/RuleSet/Streaming/Spotify.yaml
    url: https://raw.githubusercontent.com/HotKids/Rules/master/Clash/RuleSet/Spotify.yaml
    interval: 86400

  WeTV:
    type: http
    behavior: classical
    path: ./Provider/RuleSet/Streaming/WeTV.yaml
    url: https://raw.githubusercontent.com/HotKids/Rules/master/Clash/RuleSet/WeTV.yaml
    interval: 86400
    
  # YouTube:
    # type: http
    # behavior: classical
    # path: ./Provider/RuleSet/Streaming/YouTube.yaml
    # url: https://raw.githubusercontent.com/HotKids/Rules/master/Clash/RuleSet/YouTube.yaml
    # interval: 86400

  Streaming:
    type: http
    behavior: classical
    path: ./Provider/RuleSet/Streaming/Streaming.yaml
    url: https://raw.githubusercontent.com/HotKids/Rules/master/Clash/RuleSet/Streaming.yaml
    interval: 86400

  Apple TV+:
    type: http
    behavior: classical
    path: ./Provider/RuleSet/Streaming/AppleTV.yaml
    url: https://raw.githubusercontent.com/DivineEngine/Profiles/master/Clash/RuleSet/Extra/Apple/TV.yaml
    interval: 86400

  Telegram:
    type: http
    behavior: classical
    path: ./Provider/RuleSet/Extra/Telegram.yaml
    url: https://raw.githubusercontent.com/DivineEngine/Profiles/master/Clash/RuleSet/Extra/Telegram/Telegram.yaml
    interval: 86400

  PayPal:
    type: http
    behavior: classical
    path: ./Provider/RuleSet/Extra/PayPal.yaml
    url: https://raw.githubusercontent.com/DivineEngine/Profiles/master/Clash/RuleSet/Extra/PayPal.yaml
    interval: 86400

  Global:
    type: http
    behavior: classical
    path: ./Provider/RuleSet/Global.yaml
    url: https://raw.githubusercontent.com/DivineEngine/Profiles/master/Clash/RuleSet/Global.yaml
    interval: 86400

  China:
    type: http
    behavior: classical
    path: ./Provider/RuleSet/China.yaml
    url: https://raw.githubusercontent.com/DivineEngine/Profiles/master/Clash/RuleSet/China.yaml
    interval: 86400

  # IP-Blackhole:
    # type: http
    # behavior: ipcidr
    # path: ./Provider/RuleSet/Extra/IP-Blackhole.yaml
    # url: https://raw.githubusercontent.com/DivineEngine/Profiles/master/Clash/RuleSet/Extra/IP-Blackhole.yaml
    # interval: 86400

  # ChinaIP:
    # type: http
    # behavior: ipcidr
    # path: ./Provider/RuleSet/Extra/ChinaIP.yaml
    # url: https://raw.githubusercontent.com/DivineEngine/Profiles/master/Clash/RuleSet/Extra/ChinaIP.yaml
    # interval: 86400

# è§„åˆ™
rules:
  # Unbreak
  - RULE-SET,Unbreak,ğŸ”˜ DIRECT

  # AdBlock
  - RULE-SET,Advertising,ğŸš§ AdGuard
  - RULE-SET,Hijacking,ğŸš§ AdGuard
  - RULE-SET,Privacy,ğŸš§ AdGuard

  # Global Area Network

  # Streaming
  - RULE-SET,Bahamut,ğŸ‡¹ğŸ‡¼ Taiwan
  - RULE-SET,BBC,ğŸ‡¬ğŸ‡§ England
  - RULE-SET,Disney+,ğŸ‡ºğŸ‡¸ America
  - RULE-SET,FoD,ğŸ‡¯ğŸ‡µ Japan
  - RULE-SET,friDay,ğŸ‡¹ğŸ‡¼ Taiwan
  - RULE-SET,HBO,ğŸ‡ºğŸ‡¸ America
  # RULE-SET,HBO Asia,ğŸ‡¹ğŸ‡¼ Taiwan
  - RULE-SET,Hulu,ğŸ‡ºğŸ‡¸ America
  - RULE-SET,Hulu JP,ğŸ‡¯ğŸ‡µ Japan
  - RULE-SET,KKBOX&KKTV,ğŸ‡¹ğŸ‡¼ Taiwan
  - RULE-SET,LINE TV,ğŸ‡¹ğŸ‡¼ Taiwan
  - RULE-SET,Paravi,ğŸ‡¯ğŸ‡µ Japan
  - RULE-SET,Peacock,ğŸ‡ºğŸ‡¸ America
  - RULE-SET,Spotify,ğŸ”° Proxy
  - RULE-SET,WeTV,ğŸ‡¹ğŸ‡¼ Taiwan
  # RULE-SET,YouTube,ğŸ”° Proxy
  - RULE-SET,Streaming,ğŸ¬ Streaming

  # CNTV
  - RULE-SET,Bilibili,ğŸ“º CNTV
  - RULE-SET,IQIYI,ğŸ“º CNTV

  # Apple TV+
  - RULE-SET,Apple TV+,ğŸ‡ºğŸ‡¸ America

  # Telegram
  - RULE-SET,Telegram,ğŸ“¬ Telegram

  # PayPal
  - RULE-SET,PayPal,ğŸ’³ PayPal

  # (DNS Cache Pollution) / (IP Blackhole) / (Region-Restricted Access Denied) / (Network Jitter)
  - RULE-SET,Global,ğŸ”° Proxy

  # China Area Network
  - RULE-SET,China,ğŸš“ Inbound

  # Local Area Network
  - IP-CIDR,192.168.0.0/16,ğŸ”˜ DIRECT
  - IP-CIDR,10.0.0.0/8,ğŸ”˜ DIRECT
  - IP-CIDR,172.16.0.0/12,ğŸ”˜ DIRECT
  - IP-CIDR,127.0.0.0/8,ğŸ”˜ DIRECT
  - IP-CIDR,100.64.0.0/10,ğŸ”˜ DIRECT
  - IP-CIDR,224.0.0.0/4,ğŸ”˜ DIRECT

  # IP Blackhole
  # - RULE-SET,IP-Blackhole,ğŸ”° Proxy

  # Tencent
  - IP-CIDR,119.28.28.28/32,ğŸš“ Inbound
  - IP-CIDR,182.254.116.0/24,ğŸš“ Inbound
  # ä½¿ç”¨æ¥è‡ª ipipdotnet çš„ ChinaIP ä»¥è§£å†³æ•°æ®ä¸å‡†ç¡®çš„é—®é¢˜ï¼Œä½¿ç”¨ ChinaIP.yaml æ—¶ç¦ç”¨ã€ŒGEOIP,CNã€è§„åˆ™
  # - RULE-SET,ChinaIP,ğŸš“ Inbound
  # GeoIP China
  - GEOIP,CN,ğŸš“ Inbound

  - MATCH,ğŸš Outbound
